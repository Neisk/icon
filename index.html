<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Nisc | Êñá‰ª∂ÁîªÂªä</title>
<style>
:root{
  --bg:#0d0d0d;
  --text:#f5f5f5;
  --muted:#888;
  --accent:#00b7ff;
  --card:#1a1a1a;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;
  display:flex;
  flex-direction:column;
  min-height:100vh;
  align-items:center;
  padding:40px 20px 120px;
}
h1{font-size:28px;font-weight:600;margin-bottom:30px;text-align:center;color:var(--accent);}
.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:24px;
  width:100%;
  max-width:1100px;
}
.video-card{
  background:var(--card);
  border-radius:16px;
  overflow:hidden;
  box-shadow:0 0 20px rgba(255,255,255,0.06);
  transition:transform .2s ease,box-shadow .2s ease;
  cursor:pointer;
  padding:10px;
  display:flex;
  flex-direction:column;
  align-items:center;
}
.video-card:hover{transform:translateY(-4px);box-shadow:0 0 25px rgba(255,255,255,0.1);}
.video-card img, .video-card video{width:100%;height:160px;object-fit:cover;border-radius:10px;}
.video-card a{text-decoration:none;color:var(--text);margin-top:8px;font-size:14px;word-break:break-all;text-align:center;}
footer{
  padding:20px;
  color:#666;
  font-size:12px;
  text-align:center;
  width:100%;
  position:fixed;
  bottom:0;
  left:0;
  background:rgba(15,15,15,0.9);
  backdrop-filter:blur(10px);
}
.pagination{
  margin-top:30px;
  display:flex;
  gap:6px;
  flex-wrap:wrap;
  justify-content:center;
}
.pagination button{
  padding:6px 12px;
  background:var(--card);
  color:var(--text);
  border:none;
  border-radius:6px;
  cursor:pointer;
  transition:background .2s;
}
.pagination button:hover{background:var(--accent);color:#000;}
.pagination button.active{background:var(--accent);color:#000;font-weight:bold;}
.pagination button:disabled{opacity:.5;cursor:not-allowed;}
</style>
</head>
<body>
<h1>üéûÔ∏è Nisc Êñá‰ª∂ÁîªÂªä</h1>
<div class="gallery" id="gallery"></div>
<div class="pagination" id="pagination"></div>
<footer>¬© 2025 Nisc.fun ¬∑ Powered by GitHub Pages + jsDelivr</footer>

<script>
const gallery = document.getElementById("gallery");
const paginationEl = document.getElementById("pagination");
const pageSize = 6;
let currentPage = 1;
let files = [];

// ËßÜÈ¢ëÊñá‰ª∂Â§π
const videoFolder = "mp4";
// ÂÖ∂‰ªñÊñá‰ª∂Â§π
const shareFolder = "share";

// Ëé∑Âèñ GitHub Êñá‰ª∂ÂàóË°®
async function loadFiles() {
  const videoRes = await fetch(`https://api.github.com/repos/Neisk/icon/contents/${videoFolder}`);
  const videoData = await videoRes.json();
  const shareRes = await fetch(`https://api.github.com/repos/Neisk/icon/contents/${shareFolder}`);
  const shareData = await shareRes.json();

  const videoFiles = videoData.filter(f => /\.(mp4|mov)$/i.test(f.name)).map(f=>{
    return {
      name: f.name,
      type: 'video',
      url: `https://cdn.jsdelivr.net/gh/Neisk/icon@main/${videoFolder}/${encodeURIComponent(f.name)}`,
      thumb: `https://cdn.jsdelivr.net/gh/Neisk/icon@main/${videoFolder}/thumbnails/${encodeURIComponent(f.name)}.jpg`
    };
  });

  const otherFiles = shareData.map(f=>{
    const ext = f.name.split('.').pop().toLowerCase();
    let type='other';
    if(['jpg','png','jpeg','gif'].includes(ext)) type='image';
    else if(['txt'].includes(ext)) type='text';
    return {
      name: f.name,
      type: type,
      url: `https://cdn.jsdelivr.net/gh/Neisk/icon@main/${shareFolder}/${encodeURIComponent(f.name)}`
    };
  });

  files = [...videoFiles, ...otherFiles];
  renderPage(currentPage);
}

// Ê∏≤ÊüìÈ°µÈù¢
function renderPage(page){
  gallery.innerHTML='';
  const start = (page-1)*pageSize;
  const end = start+pageSize;
  const pageFiles = files.slice(start,end);

  pageFiles.forEach(f=>{
    const card = document.createElement('div');
    card.className='video-card';

    if(f.type==='video'){
      card.innerHTML = `<img src="${f.thumb}" alt="${f.name}"><a>${f.name}</a>`;
      card.addEventListener("click", ()=>{ window.open(f.url,"_blank"); });
    } else if(f.type==='image'){
      card.innerHTML = `<img src="${f.url}" alt="${f.name}"><a>${f.name}</a>`;
    } else if(f.type==='text'){
      card.innerHTML = `<a href="${f.url}" target="_blank">üìÑ ${f.name}</a>`;
    } else{
      card.innerHTML = `<a href="${f.url}" download>‚¨áÔ∏è ${f.name}</a>`;
    }

    gallery.appendChild(card);
  });
  renderPagination();
}

// Ê∏≤ÊüìÂàÜÈ°µ
function renderPagination(){
  paginationEl.innerHTML='';
  const totalPages = Math.ceil(files.length/pageSize);
  const createBtn = (text,page,active=false,disabled=false)=>{
    const btn = document.createElement("button");
    btn.textContent = text;
    if(active) btn.classList.add("active");
    btn.disabled = disabled;
    btn.addEventListener("click", ()=>{ currentPage=page; renderPage(currentPage); });
    return btn;
  };
  paginationEl.appendChild(createBtn("‰∏ä‰∏ÄÈ°µ",currentPage-1,false,currentPage===1));
  for(let i=1;i<=totalPages;i++) paginationEl.appendChild(createBtn(i,i,currentPage===i));
  paginationEl.appendChild(createBtn("‰∏ã‰∏ÄÈ°µ",currentPage+1,false,currentPage===totalPages));
}

// ÂàùÂßãÂåñ
loadFiles();
</script>
</body>
</html>
